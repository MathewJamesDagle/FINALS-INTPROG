{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { first } from 'rxjs/operators';\nlet RequestsListComponent = class RequestsListComponent {\n  requestService;\n  petService;\n  accountService;\n  requests;\n  constructor(requestService, petService, accountService) {\n    this.requestService = requestService;\n    this.petService = petService;\n    this.accountService = accountService;\n  }\n  ngOnInit() {\n    this.loadRequests();\n  }\n  loadRequests() {\n    this.requestService.getRequests().subscribe(requests => {\n      // For each request, fetch additional pet and user information\n      requests.forEach(request => {\n        this.petService.getById(request.petId).subscribe(pet => {\n          request.pet = pet; // Assign the fetched pet data to the request object\n        }, error => {\n          console.error('Error fetching pet details:', error);\n        });\n        // Fetch user information using accountId\n        this.accountService.getById(request.accountId).subscribe(user => {\n          request.user = user; // Assign the fetched user data to the request object\n        }, error => {\n          console.error('Error fetching user details:', error);\n        });\n      });\n      this.requests = requests;\n    }, error => {\n      console.error('Error fetching requests:', error);\n    });\n  }\n  deleteRequest(id) {\n    this.requestService.deleteRequest(id).pipe(first()).subscribe(() => {\n      this.requests = this.requests.filter(request => request.id !== id);\n    });\n  }\n};\nRequestsListComponent = __decorate([Component({\n  templateUrl: 'request-list.component.html'\n})], RequestsListComponent);\nexport { RequestsListComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}